import{d as R,u as U,r as j,k as q,l as m,w as e,h as I,g as G,i as n,o as d,e as t,b as r,c as f,m as a,j as l,n as H,p as J,q as y,s as w,F as h,t as k,v as K,x as O,y as p,z as P,A as Q,T as W,B as X,E as Y,C as Z}from"./index-bd42a384.js";import{_ as $}from"./_plugin-vue_export-helper-c27b6911.js";const ee={class:"logo"},te={key:0},ae={key:1},oe={class:"header-left"},ne={class:"header-right"},se={class:"user-info"},le={class:"username"},de=R({__name:"MainLayout",setup(ue){const C=I(),b=G(),u=U(),_=j(!1),B=q(()=>C.path),E=()=>{_.value=!_.value},F=async g=>{if(g==="logout")try{await Y.confirm("ç¡®å®šè¦é€€å‡ºç™»å½•å—ï¼Ÿ","æç¤º",{confirmButtonText:"ç¡®å®š",cancelButtonText:"å–æ¶ˆ",type:"warning"}),await u.logout(),Z.success("é€€å‡ºç™»å½•æˆåŠŸ"),b.push("/login")}catch{}};return(g,o)=>{const s=n("el-icon"),i=n("el-menu-item"),M=n("el-menu"),A=n("el-aside"),T=n("el-avatar"),N=n("el-tag"),v=n("el-dropdown-item"),S=n("el-dropdown-menu"),V=n("el-dropdown"),z=n("el-header"),L=n("router-view"),D=n("el-main"),x=n("el-container");return d(),m(x,{class:"main-layout"},{default:e(()=>[t(A,{width:_.value?"64px":"200px",class:"sidebar"},{default:e(()=>[r("div",ee,[_.value?(d(),f("span",ae,"ðŸŽ“")):(d(),f("span",te,"ðŸŽ“ ä½œæ–‡æ‰¹é˜…ç³»ç»Ÿ"))]),t(M,{"default-active":B.value,collapse:_.value,router:!0,"background-color":"#304156","text-color":"#bfcbd9","active-text-color":"#409EFF"},{default:e(()=>[a(u).isAdmin?(d(),f(h,{key:0},[t(i,{index:"/dashboard"},{title:e(()=>[...o[0]||(o[0]=[l("ðŸ“Š æ•°æ®æ¦‚è§ˆ",-1)])]),default:e(()=>[t(s,null,{default:e(()=>[t(a(H))]),_:1})]),_:1}),t(i,{index:"/admin/grading"},{title:e(()=>[...o[1]||(o[1]=[l("âœï¸ æ‰¹é˜…ä½œæ–‡",-1)])]),default:e(()=>[t(s,null,{default:e(()=>[t(a(J))]),_:1})]),_:1}),t(i,{index:"/admin/students"},{title:e(()=>[...o[2]||(o[2]=[l("ðŸ‘¨â€ðŸŽ“ å­¦ç”Ÿç®¡ç†",-1)])]),default:e(()=>[t(s,null,{default:e(()=>[t(a(y))]),_:1})]),_:1}),t(i,{index:"/admin/records"},{title:e(()=>[...o[3]||(o[3]=[l("ðŸ“ æ‰¹é˜…è®°å½•",-1)])]),default:e(()=>[t(s,null,{default:e(()=>[t(a(w))]),_:1})]),_:1})],64)):k("",!0),a(u).isStudent?(d(),f(h,{key:1},[t(i,{index:"/student/records"},{title:e(()=>[...o[4]||(o[4]=[l("ðŸ“ æˆ‘çš„è®°å½•",-1)])]),default:e(()=>[t(s,null,{default:e(()=>[t(a(w))]),_:1})]),_:1}),t(i,{index:"/student/profile"},{title:e(()=>[...o[5]||(o[5]=[l("ðŸ‘¤ ä¸ªäººä¿¡æ¯",-1)])]),default:e(()=>[t(s,null,{default:e(()=>[t(a(y))]),_:1})]),_:1})],64)):k("",!0)]),_:1},8,["default-active","collapse"])]),_:1},8,["width"]),t(x,null,{default:e(()=>[t(z,{class:"header"},{default:e(()=>[r("div",oe,[t(s,{class:"collapse-icon",onClick:E},{default:e(()=>[_.value?(d(),m(a(O),{key:1})):(d(),m(a(K),{key:0}))]),_:1})]),r("div",ne,[t(V,{onCommand:F},{dropdown:e(()=>[t(S,null,{default:e(()=>[t(v,{disabled:""},{default:e(()=>[t(N,{type:a(u).isAdmin?"danger":"success",size:"small"},{default:e(()=>[l(p(a(u).isAdmin?"ðŸ‘¨â€ðŸ’¼ ç®¡ç†å‘˜":"ðŸ‘¨â€ðŸŽ“ å­¦ç”Ÿ"),1)]),_:1},8,["type"])]),_:1}),t(v,{divided:"",command:"logout"},{default:e(()=>[t(s,null,{default:e(()=>[t(a(P))]),_:1}),o[6]||(o[6]=l(" é€€å‡ºç™»å½• ",-1))]),_:1})]),_:1})]),default:e(()=>[r("span",se,[t(T,{size:32,style:{"background-color":"#409EFF","margin-right":"8px"}},{default:e(()=>{var c;return[l(p((c=a(u).username)==null?void 0:c.charAt(0).toUpperCase()),1)]}),_:1}),r("span",le,p(a(u).username),1),t(s,{class:"el-icon--right"},{default:e(()=>[t(a(Q))]),_:1})])]),_:1})])]),_:1}),t(D,{class:"main-content"},{default:e(()=>[t(L,null,{default:e(({Component:c})=>[t(W,{name:"fade-transform",mode:"out-in"},{default:e(()=>[(d(),m(X(c)))]),_:2},1024)]),_:1})]),_:1})]),_:1})]),_:1})}}});const re=$(de,[["__scopeId","data-v-e46bff81"]]);export{re as default};
