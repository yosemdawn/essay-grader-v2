# ğŸ‰ AIä½œæ–‡æ‰¹é˜…ç³»ç»Ÿ V2.0 - éƒ¨ç½²å‡†å¤‡å®ŒæˆæŠ¥å‘Š

---

## âœ… éƒ¨ç½²å‡†å¤‡å·¥ä½œå®Œæˆæƒ…å†µ

æ‰€æœ‰éƒ¨ç½²å‡†å¤‡å·¥ä½œå·²100%å®Œæˆï¼ç³»ç»Ÿå·²å‡†å¤‡å¥½ä¸Šçº¿éƒ¨ç½²ã€‚

---

## ğŸ“¦ å·²å®Œæˆçš„å·¥ä½œ

### 1. âœ… å‰ç«¯ç”Ÿäº§æ„å»º

**çŠ¶æ€**: å·²å®Œæˆ  
**è¾“å‡ºç›®å½•**: `frontend/dist/`  
**æ„å»ºç»“æœ**:
- ğŸ“„ HTMLæ–‡ä»¶: 1ä¸ª (0.43 kB)
- ğŸ¨ CSSæ–‡ä»¶: 11ä¸ª (æ€»è®¡ 347.71 kB)
- ğŸ“œ JSæ–‡ä»¶: 13ä¸ª (æ€»è®¡ 1,203.33 kB)
- âœ¨ å·²å‹ç¼©å’Œä¼˜åŒ–

**è®¿é—®æ–¹å¼**: 
- å¼€å‘ç¯å¢ƒ: `http://localhost:5173`
- ç”Ÿäº§ç¯å¢ƒ: é€šè¿‡Nginxæä¾›é™æ€æ–‡ä»¶æœåŠ¡

---

### 2. âœ… Nginxé…ç½®æ–‡ä»¶

**æ–‡ä»¶ä½ç½®**: `deploy/nginx.conf`  
**æ–‡ä»¶å¤§å°**: 3.7 KB  
**é…ç½®å†…å®¹**:
- âœ… HTTPæœåŠ¡å™¨é…ç½®ï¼ˆç«¯å£80ï¼‰
- âœ… HTTPSæœåŠ¡å™¨é…ç½®ï¼ˆç«¯å£443ï¼‰
- âœ… å‰ç«¯é™æ€æ–‡ä»¶æœåŠ¡
- âœ… åç«¯APIä»£ç†ï¼ˆ/api/ â†’ http://127.0.0.1:8000ï¼‰
- âœ… é™æ€èµ„æºç¼“å­˜ç­–ç•¥
- âœ… æ–‡ä»¶ä¸Šä¼ å¤§å°é™åˆ¶ï¼ˆ100MBï¼‰
- âœ… SSLè¯ä¹¦é…ç½®æ¨¡æ¿
- âœ… å®‰å…¨å¤´éƒ¨é…ç½®
- âœ… æ—¥å¿—é…ç½®

**ä½¿ç”¨æ–¹å¼**:
```bash
sudo cp deploy/nginx.conf /etc/nginx/sites-available/essay-grader
sudo ln -s /etc/nginx/sites-available/essay-grader /etc/nginx/sites-enabled/
sudo nginx -t
sudo systemctl restart nginx
```

---

### 3. âœ… SystemdæœåŠ¡é…ç½®

**æ–‡ä»¶ä½ç½®**: `deploy/essay-grader.service`  
**æ–‡ä»¶å¤§å°**: 711 bytes  
**é…ç½®å†…å®¹**:
- âœ… æœåŠ¡æè¿°å’Œä¾èµ–
- âœ… è¿è¡Œç”¨æˆ·å’Œç»„ï¼ˆwww-dataï¼‰
- âœ… å·¥ä½œç›®å½•é…ç½®
- âœ… Uvicornå¯åŠ¨å‘½ä»¤ï¼ˆ4ä¸ªworkerï¼‰
- âœ… è‡ªåŠ¨é‡å¯ç­–ç•¥
- âœ… æ—¥å¿—è¾“å‡ºé…ç½®
- âœ… å®‰å…¨é…ç½®

**ä½¿ç”¨æ–¹å¼**:
```bash
sudo cp deploy/essay-grader.service /etc/systemd/system/
sudo systemctl daemon-reload
sudo systemctl enable essay-grader
sudo systemctl start essay-grader
```

---

### 4. âœ… ç”Ÿäº§ç¯å¢ƒé…ç½®æ¨¡æ¿

**æ–‡ä»¶ä½ç½®**: `deploy/.env.production`  
**é…ç½®é¡¹**:
- âœ… åº”ç”¨åŸºç¡€é…ç½®ï¼ˆDEBUGã€LOG_LEVELç­‰ï¼‰
- âœ… å®‰å…¨é…ç½®ï¼ˆSECRET_KEYã€JWTç­‰ï¼‰
- âœ… æ•°æ®åº“é…ç½®
- âœ… ç™¾åº¦OCR APIé…ç½®
- âœ… è±†åŒ…LLM APIé…ç½®
- âœ… æ–‡ä»¶ä¸Šä¼ é…ç½®
- âœ… CORSé…ç½®
- âœ… æ—¥å¿—é…ç½®

**ä½¿ç”¨æ–¹å¼**:
```bash
cp deploy/.env.production backend/.env
nano backend/.env  # å¡«å…¥çœŸå®çš„APIå¯†é’¥
```

---

### 5. âœ… è‡ªåŠ¨åŒ–éƒ¨ç½²è„šæœ¬

#### ä¸»éƒ¨ç½²è„šæœ¬ (`deploy/deploy.sh`)
**æ–‡ä»¶å¤§å°**: 3.9 KB  
**åŠŸèƒ½**:
- âœ… å®‰è£…ç³»ç»Ÿä¾èµ–ï¼ˆPythonã€Nginxç­‰ï¼‰
- âœ… åˆ›å»ºéƒ¨ç½²ç›®å½•
- âœ… å¤åˆ¶é¡¹ç›®æ–‡ä»¶
- âœ… é…ç½®Pythonè™šæ‹Ÿç¯å¢ƒ
- âœ… å®‰è£…Pythonä¾èµ–
- âœ… é…ç½®ç¯å¢ƒå˜é‡
- âœ… åˆå§‹åŒ–æ•°æ®åº“
- âœ… é…ç½®Nginx
- âœ… é…ç½®systemdæœåŠ¡
- âœ… å¯åŠ¨æ‰€æœ‰æœåŠ¡

**ä½¿ç”¨æ–¹å¼**:
```bash
sudo bash deploy/deploy.sh
```

#### æ›´æ–°è„šæœ¬ (`deploy/update.sh`)
**æ–‡ä»¶å¤§å°**: 2.1 KB  
**åŠŸèƒ½**:
- âœ… åœæ­¢æœåŠ¡
- âœ… å¤‡ä»½å½“å‰ç‰ˆæœ¬
- âœ… æ›´æ–°ä»£ç 
- âœ… æ›´æ–°ä¾èµ–
- âœ… æ›´æ–°æ•°æ®åº“
- âœ… é‡å¯æœåŠ¡

**ä½¿ç”¨æ–¹å¼**:
```bash
sudo bash deploy/update.sh
```

#### SSLé…ç½®è„šæœ¬ (`deploy/ssl-setup.sh`)
**æ–‡ä»¶å¤§å°**: 1.4 KB  
**åŠŸèƒ½**:
- âœ… å®‰è£…Certbot
- âœ… ç”³è¯·Let's Encryptè¯ä¹¦
- âœ… é…ç½®Nginx SSL
- âœ… è®¾ç½®è‡ªåŠ¨ç»­æœŸ

**ä½¿ç”¨æ–¹å¼**:
```bash
sudo bash deploy/ssl-setup.sh your-domain.com
```

---

### 6. âœ… éƒ¨ç½²æ–‡æ¡£

#### è¯¦ç»†éƒ¨ç½²æŒ‡å— (`docs/DEPLOYMENT.md`)
**æ–‡ä»¶å¤§å°**: ~15 KB  
**å†…å®¹**:
- âœ… æœåŠ¡å™¨è¦æ±‚
- âœ… éƒ¨ç½²å‰å‡†å¤‡
- âœ… å¿«é€Ÿéƒ¨ç½²æ­¥éª¤
- âœ… æ‰‹åŠ¨éƒ¨ç½²æ­¥éª¤
- âœ… SSLè¯ä¹¦é…ç½®
- âœ… ç¯å¢ƒå˜é‡é…ç½®
- âœ… æœåŠ¡ç®¡ç†å‘½ä»¤
- âœ… æ•…éšœæ’æŸ¥æŒ‡å—
- âœ… å¤‡ä»½ä¸æ¢å¤
- âœ… æ€§èƒ½ä¼˜åŒ–å»ºè®®

---

## ğŸ“Š éƒ¨ç½²æ–‡ä»¶æ¸…å•

```
deploy/
â”œâ”€â”€ nginx.conf              # Nginxé…ç½®æ–‡ä»¶ (3.7 KB)
â”œâ”€â”€ essay-grader.service    # SystemdæœåŠ¡æ–‡ä»¶ (711 bytes)
â”œâ”€â”€ .env.production         # ç”Ÿäº§ç¯å¢ƒé…ç½®æ¨¡æ¿
â”œâ”€â”€ deploy.sh               # ä¸»éƒ¨ç½²è„šæœ¬ (3.9 KB) âœ… å¯æ‰§è¡Œ
â”œâ”€â”€ update.sh               # æ›´æ–°è„šæœ¬ (2.1 KB) âœ… å¯æ‰§è¡Œ
â””â”€â”€ ssl-setup.sh            # SSLé…ç½®è„šæœ¬ (1.4 KB) âœ… å¯æ‰§è¡Œ

frontend/dist/              # å‰ç«¯ç”Ÿäº§æ„å»º (å·²å®Œæˆ)
â”œâ”€â”€ index.html
â”œâ”€â”€ assets/
â”‚   â”œâ”€â”€ *.css              # æ ·å¼æ–‡ä»¶
â”‚   â””â”€â”€ *.js               # JavaScriptæ–‡ä»¶
â””â”€â”€ ...

docs/
â”œâ”€â”€ DEPLOYMENT.md           # è¯¦ç»†éƒ¨ç½²æŒ‡å—
â””â”€â”€ DEPLOYMENT_SUMMARY.md   # æœ¬æ–‡æ¡£
```

---

## ğŸš€ å¿«é€Ÿéƒ¨ç½²æµç¨‹

### æ–¹å¼ä¸€ï¼šä¸€é”®éƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
# 1. ä¸Šä¼ é¡¹ç›®åˆ°æœåŠ¡å™¨
scp -r essay-grader-v2 user@your-server:/home/admin/

# 2. SSHè¿æ¥åˆ°æœåŠ¡å™¨
ssh user@your-server

# 3. è¿›å…¥é¡¹ç›®ç›®å½•
cd /home/admin/essay-grader-v2

# 4. ä¿®æ”¹éƒ¨ç½²é…ç½®ï¼ˆå¯é€‰ï¼‰
nano deploy/deploy.sh  # ä¿®æ”¹DOMAINå˜é‡

# 5. è¿è¡Œéƒ¨ç½²è„šæœ¬
sudo bash deploy/deploy.sh

# 6. é…ç½®APIå¯†é’¥
sudo nano /var/www/essay-grader-v2/backend/.env

# 7. é‡å¯æœåŠ¡
sudo systemctl restart essay-grader

# 8. é…ç½®SSLï¼ˆå¯é€‰ï¼‰
sudo bash deploy/ssl-setup.sh your-domain.com
```

### æ–¹å¼äºŒï¼šæ‰‹åŠ¨éƒ¨ç½²

è¯¦ç»†æ­¥éª¤è¯·å‚è€ƒ [`docs/DEPLOYMENT.md`](./DEPLOYMENT.md)

---

## ğŸ”§ éƒ¨ç½²åé…ç½®

### 1. å¿…é¡»é…ç½®çš„é¡¹ç›®

- âœ… **APIå¯†é’¥**: ç¼–è¾‘ `/var/www/essay-grader-v2/backend/.env`
  - BAIDU_OCR_API_KEY
  - BAIDU_OCR_SECRET_KEY
  - DOUBAO_API_KEY
  - DOUBAO_MODEL_ID

- âœ… **SECRET_KEY**: ç”Ÿæˆéšæœºå¯†é’¥
  ```bash
  python3 -c "import secrets; print(secrets.token_urlsafe(32))"
  ```

### 2. æ¨èé…ç½®çš„é¡¹ç›®

- âœ… **SSLè¯ä¹¦**: ä½¿ç”¨Let's Encrypt
  ```bash
  sudo bash deploy/ssl-setup.sh your-domain.com
  ```

- âœ… **è‡ªåŠ¨å¤‡ä»½**: è®¾ç½®å®šæ—¶ä»»åŠ¡
  ```bash
  sudo crontab -e
  # æ·»åŠ : 0 2 * * * /root/backup-essay-grader.sh
  ```

- âœ… **ä¿®æ”¹é»˜è®¤å¯†ç **: é¦–æ¬¡ç™»å½•åç«‹å³ä¿®æ”¹

---

## ğŸ“ æœåŠ¡å™¨è¦æ±‚

### æœ€ä½é…ç½®
- CPU: 2æ ¸
- å†…å­˜: 4GB RAM
- ç¡¬ç›˜: 20GB SSD
- ç³»ç»Ÿ: Ubuntu 20.04/22.04 LTS

### æ¨èé…ç½®
- CPU: 4æ ¸
- å†…å­˜: 8GB RAM
- ç¡¬ç›˜: 50GB SSD
- å¸¦å®½: 5Mbps+

---

## ğŸ” éªŒè¯éƒ¨ç½²

### 1. æ£€æŸ¥æœåŠ¡çŠ¶æ€

```bash
# æ£€æŸ¥åç«¯æœåŠ¡
sudo systemctl status essay-grader

# æ£€æŸ¥Nginx
sudo systemctl status nginx

# æ£€æŸ¥ç«¯å£ç›‘å¬
sudo netstat -tlnp | grep -E '(8000|80|443)'
```

### 2. æµ‹è¯•API

```bash
# æµ‹è¯•å¥åº·æ£€æŸ¥
curl http://localhost:8000/api/auth/verify

# æµ‹è¯•å‰ç«¯
curl http://localhost/
```

### 3. æµè§ˆå™¨è®¿é—®

- HTTP: `http://your-domain.com` æˆ– `http://your-server-ip`
- HTTPS: `https://your-domain.com` (é…ç½®SSLå)

### 4. ç™»å½•æµ‹è¯•

**ç®¡ç†å‘˜è´¦å·**:
- ç”¨æˆ·å: `admin`
- å¯†ç : `admin123`

**å­¦ç”Ÿè´¦å·**:
- ç”¨æˆ·å: `student001` - `student062`
- å¯†ç : `123456`

---

## ğŸ“š ç›¸å…³æ–‡æ¡£

- ğŸ“– [é¡¹ç›®README](../README.md)
- ğŸ“ [åç«¯å®ŒæˆæŠ¥å‘Š](./V2_BACKEND_COMPLETE.md)
- ğŸ¨ [å‰ç«¯å®ŒæˆæŠ¥å‘Š](./FRONTEND_COMPLETE.md)
- ğŸš€ [è¯¦ç»†éƒ¨ç½²æŒ‡å—](./DEPLOYMENT.md)
- ğŸ“‹ [é¡¹ç›®ç»“æ„è¯´æ˜](../PROJECT_STRUCTURE.md)
- âš¡ [å¿«é€Ÿå¼€å§‹æŒ‡å—](../QUICK_START.md)

---

## ğŸ¯ éƒ¨ç½²æ£€æŸ¥æ¸…å•

åœ¨éƒ¨ç½²åˆ°ç”Ÿäº§ç¯å¢ƒå‰ï¼Œè¯·ç¡®è®¤ä»¥ä¸‹äº‹é¡¹ï¼š

- [ ] æœåŠ¡å™¨æ»¡è¶³æœ€ä½é…ç½®è¦æ±‚
- [ ] å·²å‡†å¤‡å¥½åŸŸåï¼ˆå¦‚æœä½¿ç”¨ï¼‰
- [ ] å·²è·å–ç™¾åº¦OCR APIå¯†é’¥
- [ ] å·²è·å–è±†åŒ…LLM APIå¯†é’¥
- [ ] å·²ä¸Šä¼ é¡¹ç›®æ–‡ä»¶åˆ°æœåŠ¡å™¨
- [ ] å·²è¿è¡Œéƒ¨ç½²è„šæœ¬
- [ ] å·²é…ç½®ç¯å¢ƒå˜é‡ï¼ˆ.envæ–‡ä»¶ï¼‰
- [ ] å·²é…ç½®SSLè¯ä¹¦ï¼ˆæ¨èï¼‰
- [ ] å·²ä¿®æ”¹é»˜è®¤ç®¡ç†å‘˜å¯†ç 
- [ ] å·²è®¾ç½®è‡ªåŠ¨å¤‡ä»½ï¼ˆæ¨èï¼‰
- [ ] å·²æµ‹è¯•æ‰€æœ‰æ ¸å¿ƒåŠŸèƒ½
- [ ] å·²å¯¼å…¥çœŸå®å­¦ç”Ÿæ•°æ®

---

## ğŸ‰ æ€»ç»“

**éƒ¨ç½²å‡†å¤‡å·¥ä½œå·²100%å®Œæˆï¼**

æ‰€æœ‰å¿…è¦çš„é…ç½®æ–‡ä»¶ã€è„šæœ¬å’Œæ–‡æ¡£éƒ½å·²åˆ›å»ºå®Œæ¯•ã€‚æ‚¨ç°åœ¨å¯ä»¥ï¼š

1. âœ… ä½¿ç”¨è‡ªåŠ¨åŒ–è„šæœ¬ä¸€é”®éƒ¨ç½²
2. âœ… æŒ‰ç…§è¯¦ç»†æ–‡æ¡£æ‰‹åŠ¨éƒ¨ç½²
3. âœ… å¿«é€Ÿé…ç½®SSLè¯ä¹¦
4. âœ… è½»æ¾ç®¡ç†å’Œæ›´æ–°æœåŠ¡

**ç³»ç»Ÿå·²å‡†å¤‡å¥½ä¸Šçº¿ï¼** ğŸš€

---

**ç¥æ‚¨éƒ¨ç½²é¡ºåˆ©ï¼å¦‚æœ‰é—®é¢˜ï¼Œè¯·å‚è€ƒ [DEPLOYMENT.md](./DEPLOYMENT.md) ä¸­çš„æ•…éšœæ’æŸ¥ç« èŠ‚ã€‚** ğŸŠ

