# ğŸ“ é¡¹ç›®ç»“æ„è¯´æ˜

## ç›®å½•æ¦‚è§ˆ

```
essay-grader-v2/
â”œâ”€â”€ ğŸ“‚ backend/              åç«¯ä»£ç ç›®å½•ï¼ˆä»…åŒ…å«ä»£ç ï¼‰
â”œâ”€â”€ ğŸ“‚ frontend/             å‰ç«¯ä»£ç ç›®å½•ï¼ˆå¾…åˆ›å»ºï¼‰
â”œâ”€â”€ ğŸ“‚ docs/                 æ–‡æ¡£ç›®å½•
â”œâ”€â”€ ğŸ“‚ scripts/              è„šæœ¬ç›®å½•ï¼ˆå¾…åˆ›å»ºï¼‰
â”œâ”€â”€ ğŸ“‚ data/                 æ•°æ®ç›®å½•ï¼ˆæ‰€æœ‰æŒä¹…åŒ–æ•°æ®ï¼‰
â”œâ”€â”€ ğŸ“‚ logs/                 æ—¥å¿—ç›®å½•ï¼ˆæ‰€æœ‰æ—¥å¿—æ–‡ä»¶ï¼‰
â”œâ”€â”€ ğŸ“„ README.md             é¡¹ç›®è¯´æ˜
â”œâ”€â”€ ğŸ“„ .gitignore            Gitå¿½ç•¥æ–‡ä»¶
â””â”€â”€ ğŸ“„ PROJECT_STRUCTURE.md  æœ¬æ–‡ä»¶
```

---

## ğŸ“‚ backend/ - åç«¯ä»£ç 

**é‡è¦åŸåˆ™ï¼šbackend/ ç›®å½•ä»…åŒ…å«ä»£ç ï¼Œä¸åŒ…å«æ•°æ®æ–‡ä»¶**

è¿™æ˜¯ç°æœ‰çš„ä½œæ–‡æ‰¹é˜…ç³»ç»Ÿä»£ç ï¼Œå·²ä» `Desktop/essay grader` å¤åˆ¶è¿‡æ¥ã€‚æ‰€æœ‰æ•°æ®æ–‡ä»¶ï¼ˆdata/ã€logs/ã€uploads/ï¼‰å·²ç§»è‡³é¡¹ç›®æ ¹ç›®å½•ã€‚

### ä¸»è¦æ–‡ä»¶

```
backend/
â”œâ”€â”€ main.py                  # åº”ç”¨å…¥å£ï¼ŒFastAPIä¸»ç¨‹åº
â”œâ”€â”€ requirements.txt         # Pythonä¾èµ–åŒ…åˆ—è¡¨
â”œâ”€â”€ .env                     # ç¯å¢ƒå˜é‡é…ç½®ï¼ˆåŒ…å«APIå¯†é’¥ï¼‰
â”œâ”€â”€ .env.example             # ç¯å¢ƒå˜é‡ç¤ºä¾‹
â”œâ”€â”€ config.json              # é…ç½®æ–‡ä»¶
â”‚
â”œâ”€â”€ app/                     # åº”ç”¨ä¸»ç›®å½•
â”‚   â”œâ”€â”€ __init__.py
â”‚   â”œâ”€â”€ config.py            # é…ç½®ç®¡ç†
â”‚   â”‚
â”‚   â”œâ”€â”€ models/              # æ•°æ®æ¨¡å‹ï¼ˆPydanticï¼‰
â”‚   â”‚   â”œâ”€â”€ request.py       # è¯·æ±‚æ¨¡å‹
â”‚   â”‚   â””â”€â”€ response.py      # å“åº”æ¨¡å‹
â”‚   â”‚
â”‚   â”œâ”€â”€ routes/              # APIè·¯ç”±
â”‚   â”‚   â”œâ”€â”€ grading.py       # æ‰¹é˜…ç›¸å…³æ¥å£
â”‚   â”‚   â””â”€â”€ students.py      # å­¦ç”Ÿç®¡ç†æ¥å£
â”‚   â”‚
â”‚   â”œâ”€â”€ services/            # ä¸šåŠ¡é€»è¾‘æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ ocr_service.py   # OCRè¯†åˆ«æœåŠ¡ï¼ˆç™¾åº¦ï¼‰
â”‚   â”‚   â”œâ”€â”€ llm_service.py   # LLMæœåŠ¡ï¼ˆè±†åŒ…ï¼‰
â”‚   â”‚   â”œâ”€â”€ email_service.py # é‚®ä»¶æœåŠ¡
â”‚   â”‚   â”œâ”€â”€ student_db.py    # å­¦ç”Ÿæ•°æ®åº“æœåŠ¡
â”‚   â”‚   â””â”€â”€ workflow_engine.py # æ‰¹é˜…å·¥ä½œæµå¼•æ“
â”‚   â”‚
â”‚   â””â”€â”€ tasks/               # åå°ä»»åŠ¡
â”‚       â””â”€â”€ task_manager.py  # ä»»åŠ¡ç®¡ç†å™¨
â”‚
â”œâ”€â”€ static/                  # é™æ€æ–‡ä»¶ï¼ˆCSSã€JSç­‰ï¼‰
â”‚   â”œâ”€â”€ css/
â”‚   â””â”€â”€ js/
â”‚
â””â”€â”€ templates/               # HTMLæ¨¡æ¿
    â””â”€â”€ index.html           # ä¸»é¡µ
```

**æ³¨æ„**ï¼š
- âŒ backend/ å†…ä¸å†æœ‰ data/ã€logs/ã€uploads/ ç›®å½•
- âœ… æ‰€æœ‰æ•°æ®æ–‡ä»¶éƒ½åœ¨é¡¹ç›®æ ¹ç›®å½•çš„ data/ å’Œ logs/ ä¸‹

### éœ€è¦ä¿®æ”¹çš„æ–‡ä»¶

åœ¨å¼€å‘æ–°åŠŸèƒ½æ—¶ï¼Œéœ€è¦ä¿®æ”¹ä»¥ä¸‹æ–‡ä»¶ï¼š

1. **app/services/workflow_engine.py**
   - ä¿®æ”¹æ‰¹é˜…æµç¨‹ï¼Œå°†ç»“æœä¿å­˜åˆ°æ•°æ®åº“è€Œéå‘é€é‚®ä»¶

2. **app/services/student_db.py**
   - ä»JSONæ–‡ä»¶æ”¹ä¸ºSQLiteæ•°æ®åº“

3. **app/routes/grading.py**
   - æ·»åŠ æ–°çš„APIæ¥å£

4. **app/routes/students.py**
   - å®Œå–„å­¦ç”Ÿç®¡ç†æ¥å£

---

## ğŸ“‚ frontend/ - å‰ç«¯ä»£ç ï¼ˆå¾…åˆ›å»ºï¼‰

è¿™ä¸ªç›®å½•å°†åŒ…å«Vue 3å‰ç«¯é¡¹ç›®ã€‚

### è®¡åˆ’ç»“æ„

```
frontend/
â”œâ”€â”€ public/                  # å…¬å…±èµ„æº
â”‚   â””â”€â”€ favicon.ico
â”‚
â”œâ”€â”€ src/                     # æºä»£ç 
â”‚   â”œâ”€â”€ assets/              # é™æ€èµ„æº
â”‚   â”‚   â”œâ”€â”€ images/
â”‚   â”‚   â””â”€â”€ styles/
â”‚   â”‚
â”‚   â”œâ”€â”€ components/          # ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ common/          # å…¬å…±ç»„ä»¶
â”‚   â”‚   â”œâ”€â”€ student/         # å­¦ç”Ÿç«¯ç»„ä»¶
â”‚   â”‚   â””â”€â”€ teacher/         # æ•™å¸ˆç«¯ç»„ä»¶
â”‚   â”‚
â”‚   â”œâ”€â”€ views/               # é¡µé¢
â”‚   â”‚   â”œâ”€â”€ auth/            # è®¤è¯é¡µé¢
â”‚   â”‚   â”‚   â””â”€â”€ Login.vue
â”‚   â”‚   â”œâ”€â”€ student/         # å­¦ç”Ÿç«¯é¡µé¢
â”‚   â”‚   â”‚   â”œâ”€â”€ Dashboard.vue
â”‚   â”‚   â”‚   â”œâ”€â”€ Records.vue
â”‚   â”‚   â”‚   â””â”€â”€ Profile.vue
â”‚   â”‚   â””â”€â”€ teacher/         # æ•™å¸ˆç«¯é¡µé¢
â”‚   â”‚       â”œâ”€â”€ Dashboard.vue
â”‚   â”‚       â”œâ”€â”€ Grading.vue
â”‚   â”‚       â”œâ”€â”€ Students.vue
â”‚   â”‚       â””â”€â”€ Records.vue
â”‚   â”‚
â”‚   â”œâ”€â”€ router/              # è·¯ç”±é…ç½®
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ store/               # çŠ¶æ€ç®¡ç†ï¼ˆPiniaï¼‰
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ student.ts
â”‚   â”‚   â””â”€â”€ teacher.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ api/                 # APIæ¥å£
â”‚   â”‚   â”œâ”€â”€ auth.ts
â”‚   â”‚   â”œâ”€â”€ student.ts
â”‚   â”‚   â””â”€â”€ teacher.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ utils/               # å·¥å…·å‡½æ•°
â”‚   â”‚   â”œâ”€â”€ request.ts       # Axioså°è£…
â”‚   â”‚   â””â”€â”€ helpers.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ types/               # TypeScriptç±»å‹
â”‚   â”‚   â””â”€â”€ index.ts
â”‚   â”‚
â”‚   â”œâ”€â”€ App.vue              # æ ¹ç»„ä»¶
â”‚   â””â”€â”€ main.ts              # å…¥å£æ–‡ä»¶
â”‚
â”œâ”€â”€ package.json             # ä¾èµ–é…ç½®
â”œâ”€â”€ vite.config.ts           # Viteé…ç½®
â”œâ”€â”€ tsconfig.json            # TypeScripté…ç½®
â””â”€â”€ index.html               # HTMLæ¨¡æ¿
```

---

## ğŸ“‚ docs/ - æ–‡æ¡£ç›®å½•

å­˜æ”¾æ‰€æœ‰é¡¹ç›®æ–‡æ¡£ã€‚

```
docs/
â”œâ”€â”€ essay_grader_student_portal_plan.md  # å®Œæ•´æŠ€æœ¯è§„åˆ’ï¼ˆ1300+è¡Œï¼‰
â”‚   â”œâ”€â”€ æ•°æ®åº“è®¾è®¡
â”‚   â”œâ”€â”€ APIæ¥å£è®¾è®¡
â”‚   â”œâ”€â”€ å‰ç«¯é¡µé¢è®¾è®¡
â”‚   â”œâ”€â”€ éƒ¨ç½²æ¶æ„
â”‚   â””â”€â”€ å¼€å‘æ—¶é—´çº¿
â”‚
â””â”€â”€ æ–°æ‰‹éƒ¨ç½²æŒ‡å—.md                      # é›¶åŸºç¡€éƒ¨ç½²æ•™ç¨‹ï¼ˆ800+è¡Œï¼‰
    â”œâ”€â”€ å‡†å¤‡å·¥ä½œ
    â”œâ”€â”€ ä¸€é”®éƒ¨ç½²è„šæœ¬
    â”œâ”€â”€ åŸŸåé…ç½®
    â”œâ”€â”€ å¸¸è§é—®é¢˜
    â””â”€â”€ æ—¥å¸¸ç»´æŠ¤
```

---

## ğŸ“‚ scripts/ - è„šæœ¬ç›®å½•ï¼ˆå¾…åˆ›å»ºï¼‰

å­˜æ”¾å„ç§å·¥å…·è„šæœ¬ã€‚

### è®¡åˆ’è„šæœ¬

```
scripts/
â”œâ”€â”€ init_db.py               # æ•°æ®åº“åˆå§‹åŒ–è„šæœ¬
â”‚   â””â”€â”€ åˆ›å»ºæ‰€æœ‰è¡¨ç»“æ„ï¼Œæ·»åŠ é»˜è®¤ç®¡ç†å‘˜
â”‚
â”œâ”€â”€ migrate_data.py          # æ•°æ®è¿ç§»è„šæœ¬
â”‚   â””â”€â”€ ä»JSONè¿ç§»åˆ°SQLite
â”‚
â”œâ”€â”€ import_students.py       # æ‰¹é‡å¯¼å…¥å­¦ç”Ÿ
â”‚   â””â”€â”€ ä»Excelå¯¼å…¥å­¦ç”Ÿæ•°æ®
â”‚
â”œâ”€â”€ reset_password.py        # é‡ç½®å¯†ç 
â”‚   â””â”€â”€ é‡ç½®ç®¡ç†å‘˜æˆ–å­¦ç”Ÿå¯†ç 
â”‚
â”œâ”€â”€ backup.sh                # å¤‡ä»½è„šæœ¬
â”‚   â””â”€â”€ å¤‡ä»½æ•°æ®åº“å’Œä¸Šä¼ æ–‡ä»¶
â”‚
â”œâ”€â”€ deploy.sh                # ä¸€é”®éƒ¨ç½²è„šæœ¬
â”‚   â””â”€â”€ è‡ªåŠ¨å®‰è£…ä¾èµ–å’Œé…ç½®æœåŠ¡
â”‚
â””â”€â”€ test_api.py              # APIæµ‹è¯•è„šæœ¬
    â””â”€â”€ æµ‹è¯•OCRå’ŒLLM APIè¿æ¥
```

---

## ğŸ“‚ data/ - æ•°æ®ç›®å½•

**é‡è¦åŸåˆ™ï¼šæ‰€æœ‰æŒä¹…åŒ–æ•°æ®éƒ½å­˜æ”¾åœ¨è¿™é‡Œ**

è¿™æ˜¯é¡¹ç›®çš„æ•°æ®ä¸­å¿ƒï¼ŒåŒ…å«æ•°æ®åº“ã€ä¸Šä¼ æ–‡ä»¶ã€å­¦ç”Ÿä¿¡æ¯ç­‰æ‰€æœ‰éœ€è¦æŒä¹…åŒ–çš„æ•°æ®ã€‚

```
data/
â”œâ”€â”€ students.json            # å­¦ç”Ÿä¿¡æ¯ï¼ˆå§“å-é‚®ç®±æ˜ å°„ï¼‰- ç°æœ‰æ•°æ®
â”œâ”€â”€ database.db              # SQLiteæ•°æ®åº“ï¼ˆå¾…åˆ›å»ºï¼‰
â”‚   â”œâ”€â”€ usersè¡¨              # ç”¨æˆ·ä¿¡æ¯
â”‚   â”œâ”€â”€ essay_promptsè¡¨      # ä½œæ–‡é¢˜ç›®
â”‚   â”œâ”€â”€ grading_recordsè¡¨    # æ‰¹é˜…è®°å½•
â”‚   â”œâ”€â”€ batch_tasksè¡¨        # æ‰¹å¤„ç†ä»»åŠ¡
â”‚   â””â”€â”€ system_logsè¡¨        # ç³»ç»Ÿæ—¥å¿—
â”‚
â”œâ”€â”€ uploads/                 # ä¸Šä¼ æ–‡ä»¶
â”‚   â”œâ”€â”€ prompts/             # é¢˜ç›®å›¾ç‰‡ï¼ˆå·²æœ‰5å¼ æµ‹è¯•å›¾ç‰‡ï¼‰
â”‚   â””â”€â”€ essays/              # ä½œæ–‡å›¾ç‰‡
â”‚
â””â”€â”€ backup/                  # å¤‡ä»½æ–‡ä»¶ï¼ˆå¾…åˆ›å»ºï¼‰
    â”œâ”€â”€ database_*.db        # æ•°æ®åº“å¤‡ä»½
    â””â”€â”€ uploads_*.tar.gz     # æ–‡ä»¶å¤‡ä»½
```

**è·¯å¾„é…ç½®**ï¼š
- åç«¯ä»£ç éœ€è¦ä½¿ç”¨ç›¸å¯¹è·¯å¾„è®¿é—®ï¼š`../data/`
- æˆ–ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼š`/path/to/essay-grader-v2/data/`

---

## ğŸ“‚ logs/ - æ—¥å¿—ç›®å½•

**é‡è¦åŸåˆ™ï¼šæ‰€æœ‰æ—¥å¿—æ–‡ä»¶éƒ½å­˜æ”¾åœ¨è¿™é‡Œ**

```
logs/
â”œâ”€â”€ app.log                  # åº”ç”¨æ—¥å¿—ï¼ˆå·²æœ‰ç°æœ‰æ—¥å¿—ï¼‰
â”œâ”€â”€ access.log               # è®¿é—®æ—¥å¿—ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
â”œâ”€â”€ error.log                # é”™è¯¯æ—¥å¿—ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
â””â”€â”€ backup.log               # å¤‡ä»½æ—¥å¿—
```

**è·¯å¾„é…ç½®**ï¼š
- åç«¯ä»£ç éœ€è¦ä½¿ç”¨ç›¸å¯¹è·¯å¾„è®¿é—®ï¼š`../logs/`
- æˆ–ä½¿ç”¨ç»å¯¹è·¯å¾„ï¼š`/path/to/essay-grader-v2/logs/`

---

## ğŸ”§ å¼€å‘å·¥ä½œæµ

### 1. å½“å‰é˜¶æ®µï¼šå‡†å¤‡å·¥ä½œ âœ…

- [x] åˆ›å»ºé¡¹ç›®ç›®å½•ç»“æ„
- [x] å¤åˆ¶ç°æœ‰ä»£ç 
- [x] æ•´ç†æ–‡æ¡£
- [x] åˆ›å»ºREADME

### 2. ä¸‹ä¸€é˜¶æ®µï¼šæ•°æ®åº“å¼€å‘

éœ€è¦åˆ›å»ºçš„æ–‡ä»¶ï¼š
- `backend/app/database.py` - æ•°æ®åº“è¿æ¥
- `backend/app/models/user.py` - ç”¨æˆ·æ¨¡å‹
- `backend/app/models/essay.py` - ä½œæ–‡æ¨¡å‹
- `backend/app/models/grading.py` - æ‰¹é˜…æ¨¡å‹
- `scripts/init_db.py` - åˆå§‹åŒ–è„šæœ¬

### 3. åç»­é˜¶æ®µ

æŒ‰ç…§ `docs/essay_grader_student_portal_plan.md` ä¸­çš„å¼€å‘æ—¶é—´çº¿è¿›è¡Œã€‚

---

## ğŸ“ æ³¨æ„äº‹é¡¹

### é‡è¦æ–‡ä»¶ï¼ˆä¸è¦åˆ é™¤ï¼‰

- `backend/.env` - åŒ…å«APIå¯†é’¥ï¼Œä¸è¦æäº¤åˆ°Git
- `backend/data/students.json` - ç°æœ‰å­¦ç”Ÿæ•°æ®
- `docs/` - æ‰€æœ‰æ–‡æ¡£

### ä¸´æ—¶æ–‡ä»¶ï¼ˆå¯ä»¥åˆ é™¤ï¼‰

- `backend/__pycache__/` - Pythonç¼“å­˜
- `backend/logs/app.log` - æ—¥å¿—æ–‡ä»¶
- `backend/uploads/` - ä¸Šä¼ çš„æµ‹è¯•æ–‡ä»¶

### Gitç®¡ç†

å·²åˆ›å»º `.gitignore` æ–‡ä»¶ï¼Œä»¥ä¸‹å†…å®¹ä¸ä¼šè¢«æäº¤ï¼š
- æ•°æ®åº“æ–‡ä»¶
- æ—¥å¿—æ–‡ä»¶
- ä¸Šä¼ æ–‡ä»¶
- ç¯å¢ƒå˜é‡æ–‡ä»¶
- Pythonç¼“å­˜

---

## ğŸš€ å¿«é€Ÿå¯¼èˆª

- **æŸ¥çœ‹å®Œæ•´è§„åˆ’**ï¼š`docs/essay_grader_student_portal_plan.md`
- **å­¦ä¹ å¦‚ä½•éƒ¨ç½²**ï¼š`docs/æ–°æ‰‹éƒ¨ç½²æŒ‡å—.md`
- **å¼€å§‹å¼€å‘**ï¼šä» `scripts/init_db.py` å¼€å§‹
- **è¿è¡Œç°æœ‰ç³»ç»Ÿ**ï¼š`cd backend && python main.py`

---

**æœ€åæ›´æ–°**ï¼š2024-01-15